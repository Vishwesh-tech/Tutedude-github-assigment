<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Coach - Wellnest</title>
    <script src="https://cdn.tailwindcss.com/3.4.16"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css" rel="stylesheet">
    <style>
        :where([class^="ri-"])::before {
            content: "\f3c2";
        }

        .h{
            height: 583px;
        }

        .m{
            height: 320px;
        }
        .user-dropdown {
            display: none;
            opacity: 0;
            transform: translateY(-10px);
            transition: all 0.2s ease-in-out;
            z-index: 50;
        }

        .user-dropdown.show {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#57B5E7',
                        secondary: '#8DD3C7'
                    },
                    borderRadius: {
                        'none': '0px',
                        'sm': '4px',
                        DEFAULT: '8px',
                        'md': '12px',
                        'lg': '16px',
                        'xl': '20px',
                        '2xl': '24px',
                        '3xl': '32px',
                        'full': '9999px',
                        'button': '8px'
                    }
                }
            }
        }
    </script>
</head>

<body class="bg-gray-50 min-h-screen">
    <div class="flex">
        <aside class="w-64 bg-white shadow-sm min-h-screen fixed left-0 top-0 z-10">
            <div class="p-6">
                <div class="flex items-center gap-3 mb-8">
                    <div class="w-8 h-8 bg-primary rounded-full flex items-center justify-center">
                        <i class="ri-heart-pulse-line text-white text-sm"></i>
                    </div>
                    <a href="{{ url_for('hello_world') }}">
                        <span class="font-['Pacifico'] text-xl text-gray-800">Wellnest</span>
                    </a>
                </div>
                <nav class="space-y-2">
                    <a href="{{ url_for('dashboard') }}"
                        class="flex items-center gap-3 px-4 py-3 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors">
                        <div class="w-5 h-5 flex items-center justify-center">
                            <i class="ri-dashboard-line text-lg"></i>
                        </div>
                        <span>Dashboard</span>
                    </a>
                    <a href="{{ url_for('habits') }}"
                        class="flex items-center gap-3 px-4 py-3 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors">
                        <div class="w-5 h-5 flex items-center justify-center">
                            <i class="ri-calendar-check-line text-lg"></i>
                        </div>
                        <span>Habits</span>
                    </a>
                    <a href="{{ url_for('moodtracker') }}" data-readdy="true"
                        class="flex items-center gap-3 px-4 py-3 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors">
                        <div class="w-5 h-5 flex items-center justify-center">
                            <i class="ri-emotion-line text-lg"></i>
                        </div>
                        <span>Mood Tracker</span>
                    </a>
                    <a href="{{ url_for('ai_coach') }}"
                        class="flex items-center gap-3 px-4 py-3 text-primary bg-primary/10 rounded-lg">
                        <div class="w-5 h-5 flex items-center justify-center">
                            <i class="ri-robot-line text-lg"></i>
                        </div>
                        <span class="font-medium">AI Coach</span>
                    </a>
                    <a href="{{ url_for('achievement') }}"
                        class="flex items-center gap-3 px-4 py-3 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors">
                        <div class="w-5 h-5 flex items-center justify-center">
                            <i class="ri-trophy-line text-lg"></i>
                        </div>
                        <span>Achievements</span>
                    </a>
                    <a href="{{ url_for('setting') }}"
                        class="flex items-center gap-3 px-4 py-3 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors">
                        <div class="w-5 h-5 flex items-center justify-center">
                            <i class="ri-settings-line text-lg"></i>
                        </div>
                        <span>Settings</span>
                    </a>
                </nav>
            </div>
            <div class="absolute bottom-6 left-6">
                <button class="flex items-center gap-2 text-gray-500 text-sm hover:text-gray-700 transition-colors">
                    <div class="w-4 h-4 flex items-center justify-center">
                        <i class="ri-moon-line"></i>
                    </div>
                    <span>Dark Mode</span>
                </button>
            </div>
        </aside>
        <main class="flex-1 ml-64 p-6">
            <header class="flex items-center justify-between mb-8">
                <div>
                    <h1 class="text-2xl font-semibold text-gray-800">AI Wellness Coach</h1>
                    <p class="text-gray-600">Thursday, July 17, 2025</p>
                </div>
                <div class="flex items-center gap-4">
                    <div class="flex items-center space-x-4">
                        <button class="w-10 h-10 flex items-center justify-center rounded-lg hover:bg-gray-50 relative">
                            <i class="ri-notification-line text-gray-600"></i>
                            <span class="absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"></span>
                        </button>
                        <div class="relative">
                            <button id="userMenuButton"
                                class="w-10 h-10 bg-primary text-white rounded-full flex items-center justify-center font-semibold hover:bg-primary/90 transition-colors">
                                {{ initial }}
                            </button>
                            <!-- Dropdown Menu -->
                            <div id="userDropdown"
                                class="user-dropdown absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-100 py-1">
                                <div class="px-4 py-2 border-b border-gray-100">
                                    <p class="text-sm font-medium text-gray-900">{{ user_name }}</p>
                                    <p class="text-xs text-gray-500">{{ user_email }}</p>
                                </div>
                                <a href="{{ url_for('dashboard') }}"
                                    class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors">
                                    <i class="ri-dashboard-line mr-2"></i>Dashboard
                                </a>
                                <a href="{{ url_for('setting') }}"
                                    class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors">
                                    <i class="ri-settings-line mr-2"></i>Settings
                                </a>
                                <hr class="my-1">
                                <a href="{{ url_for('logout') }}"
                                    class="block px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors">
                                    <i class="ri-logout-box-line mr-2"></i>Sign Out
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </header>
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
                <div class="lg:col-span-2">
                    <div class="bg-white rounded-2xl shadow-sm p-6 h">
                        <div class="flex items-center justify-between mb-6">
                            <div class="flex items-center gap-3">
                                <div class="w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center">
                                    <i class="ri-robot-line text-primary text-lg"></i>
                                </div>
                                <div>
                                    <h3 class="font-semibold text-gray-800">AI Coach</h3>
                                    <div class="flex items-center gap-2">
                                        <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                                        <span class="text-sm text-gray-500">Online</span>
                                    </div>
                                </div>
                            </div>
                            <button
                                class="w-8 h-8 flex items-center justify-center hover:bg-gray-100 rounded-lg transition-colors">
                                <i class="ri-more-line text-gray-600"></i>
                            </button>
                        </div>
                        <div class="flex-1 space-y-4 mb-4 m overflow-y-auto">
                            <div class="flex gap-3">
                                <div
                                    class="w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0">
                                    <i class="ri-robot-line text-primary text-sm"></i>
                                </div>
                                <div class="bg-gray-100 rounded-2xl rounded-tl-md p-4 max-w-xs">
                                    <p class="text-gray-800">Hello Sarah! I've been analyzing your progress. You're
                                        doing amazing with your 12-day streak! 🎉</p>
                                </div>
                            </div>
                            <div class="flex gap-3">
                                <div
                                    class="w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0">
                                    <i class="ri-robot-line text-primary text-sm"></i>
                                </div>
                                <div class="bg-gray-100 rounded-2xl rounded-tl-md p-4 max-w-xs">
                                    <p class="text-gray-800">I noticed you've completed 70% of today's habits. Would you
                                        like some motivation to finish the remaining ones?</p>
                                </div>
                            </div>
                            <div class="flex justify-end">
                                <div class="bg-primary text-white rounded-2xl rounded-tr-md p-4 max-w-xs">
                                    <p>Yes, I'd love some motivation! What do you suggest?</p>
                                </div>
                            </div>
                            <div class="flex gap-3">
                                <div
                                    class="w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0">
                                    <i class="ri-robot-line text-primary text-sm"></i>
                                </div>
                                <div class="bg-gray-100 rounded-2xl rounded-tl-md p-4 max-w-xs">
                                    <p class="text-gray-800">Perfect! I recommend starting with your meditation session.
                                        It's only 15 minutes and will help you feel centered for the rest of your day.
                                        🧘‍♀️</p>
                                </div>
                            </div>
                        </div>
                        <div class="border-t pt-4">
                            <div class="flex gap-2 mb-3">
                                <button
                                    class="px-3 py-2 bg-gray-100 text-gray-700 rounded-full text-sm hover:bg-gray-200 transition-colors whitespace-nowrap !rounded-button">
                                    Analyze my habits
                                </button>
                                <button
                                    class="px-3 py-2 bg-gray-100 text-gray-700 rounded-full text-sm hover:bg-gray-200 transition-colors whitespace-nowrap !rounded-button">
                                    Get motivation
                                </button>
                                <button
                                    class="px-3 py-2 bg-gray-100 text-gray-700 rounded-full text-sm hover:bg-gray-200 transition-colors whitespace-nowrap !rounded-button">
                                    Set new goals
                                </button>
                            </div>
                            <div class="flex gap-2">
                                <input type="text" placeholder="Ask your AI coach anything..."
                                    class="flex-1 px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary text-sm">
                                <button
                                    class="w-12 h-12 bg-primary text-white rounded-xl hover:bg-primary/90 transition-colors flex items-center justify-center !rounded-button">
                                    <i class="ri-send-plane-line text-lg"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="space-y-6">
                    <div class="bg-white rounded-2xl shadow-sm p-6">
                        <h3 class="font-semibold text-gray-800 mb-4">Today's Focus</h3>
                        <div class="space-y-3">
                            <div class="flex items-center gap-3 p-3 bg-green-50 rounded-lg">
                                <div class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center">
                                    <i class="ri-run-line text-green-600 text-sm"></i>
                                </div>
                                <div class="flex-1">
                                    <p class="font-medium text-gray-800">Morning Run</p>
                                    <p class="text-sm text-gray-600">Completed ✓</p>
                                </div>
                            </div>
                            <div class="flex items-center gap-3 p-3 bg-blue-50 rounded-lg">
                                <div class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center">
                                    <i class="ri-book-open-line text-blue-600 text-sm"></i>
                                </div>
                                <div class="flex-1">
                                    <p class="font-medium text-gray-800">Read 20 Pages</p>
                                    <p class="text-sm text-gray-600">In progress</p>
                                </div>
                            </div>
                            <div class="flex items-center gap-3 p-3 bg-purple-50 rounded-lg">
                                <div class="w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center">
                                    <i class="ri-meditation-line text-purple-600 text-sm"></i>
                                </div>
                                <div class="flex-1">
                                    <p class="font-medium text-gray-800">Meditation</p>
                                    <p class="text-sm text-gray-600">Pending</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white rounded-2xl shadow-sm p-6">
                        <h3 class="font-semibold text-gray-800 mb-4">AI Insights</h3>
                        <div class="space-y-4">
                            <div class="flex items-start gap-3">
                                <div
                                    class="w-6 h-6 bg-yellow-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
                                    <i class="ri-lightbulb-line text-yellow-600 text-xs"></i>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-800 font-medium">Optimal Time</p>
                                    <p class="text-xs text-gray-600">Your meditation sessions are most effective between
                                        6-7 PM</p>
                                </div>
                            </div>
                            <div class="flex items-start gap-3">
                                <div
                                    class="w-6 h-6 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
                                    <i class="ri-trophy-line text-green-600 text-xs"></i>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-800 font-medium">Streak Power</p>
                                    <p class="text-xs text-gray-600">You're 3 days away from your longest streak record!
                                    </p>
                                </div>
                            </div>
                            <div class="flex items-start gap-3">
                                <div
                                    class="w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
                                    <i class="ri-heart-line text-blue-600 text-xs"></i>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-800 font-medium">Wellness Score</p>
                                    <p class="text-xs text-gray-600">Your overall wellness improved by 15% this week</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div class="bg-white rounded-2xl shadow-sm p-6">
                    <h3 class="font-semibold text-gray-800 mb-4">Personalized Recommendations</h3>
                    <div class="space-y-3">
                        <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                            <div class="flex items-center gap-3">
                                <div class="w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center">
                                    <i class="ri-stretch-line text-orange-600 text-sm"></i>
                                </div>
                                <div>
                                    <p class="font-medium text-gray-800">Evening Stretches</p>
                                    <p class="text-sm text-gray-600">Improve sleep quality</p>
                                </div>
                            </div>
                            <button
                                class="px-4 py-2 text-primary bg-primary/10 rounded-lg text-sm font-medium hover:bg-primary/20 transition-colors whitespace-nowrap !rounded-button">
                                Add
                            </button>
                        </div>
                        <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                            <div class="flex items-center gap-3">
                                <div class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center">
                                    <i class="ri-leaf-line text-green-600 text-sm"></i>
                                </div>
                                <div>
                                    <p class="font-medium text-gray-800">Hydration Reminder</p>
                                    <p class="text-sm text-gray-600">Drink water every 2 hours</p>
                                </div>
                            </div>
                            <button
                                class="px-4 py-2 text-primary bg-primary/10 rounded-lg text-sm font-medium hover:bg-primary/20 transition-colors whitespace-nowrap !rounded-button">
                                Add
                            </button>
                        </div>
                        <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                            <div class="flex items-center gap-3">
                                <div class="w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center">
                                    <i class="ri-phone-line text-purple-600 text-sm"></i>
                                </div>
                                <div>
                                    <p class="font-medium text-gray-800">Phone-Free Hour</p>
                                    <p class="text-sm text-gray-600">Digital detox before bed</p>
                                </div>
                            </div>
                            <button
                                class="px-4 py-2 text-primary bg-primary/10 rounded-lg text-sm font-medium hover:bg-primary/20 transition-colors whitespace-nowrap !rounded-button">
                                Add
                            </button>
                        </div>
                    </div>
                </div>
                <div class="bg-white rounded-2xl shadow-sm p-6">
                    <h3 class="font-semibold text-gray-800 mb-4">Weekly Progress Analytics</h3>
                    <div class="space-y-4">
                        <div class="flex items-center justify-between">
                            <span class="text-sm text-gray-600">Habit Completion Rate</span>
                            <span class="text-sm font-medium text-gray-800">85%</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div class="bg-primary h-2 rounded-full" style="width: 85%"></div>
                        </div>
                        <div class="flex items-center justify-between">
                            <span class="text-sm text-gray-600">Consistency Score</span>
                            <span class="text-sm font-medium text-gray-800">92%</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div class="bg-green-500 h-2 rounded-full" style="width: 92%"></div>
                        </div>
                        <div class="flex items-center justify-between">
                            <span class="text-sm text-gray-600">Wellness Score</span>
                            <span class="text-sm font-medium text-gray-800">78%</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div class="bg-purple-500 h-2 rounded-full" style="width: 78%"></div>
                        </div>
                        <div class="mt-6 p-4 bg-primary/5 rounded-lg">
                            <div class="flex items-center gap-2 mb-2">
                                <div class="w-5 h-5 flex items-center justify-center">
                                    <i class="ri-trophy-line text-primary text-sm"></i>
                                </div>
                                <span class="font-medium text-gray-800">Achievement Unlocked!</span>
                            </div>
                            <p class="text-sm text-gray-600">Consistency Champion - 12 days in a row!</p>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <script id="chat-functionality">
        document.addEventListener('DOMContentLoaded', function () {
            const chatInput = document.querySelector('input[placeholder="Ask your AI coach anything..."]');
            const sendButton = document.querySelector('button[class*="bg-primary"]');
            const chatContainer = document.querySelector('.space-y-4.mb-4');
            function addMessage(message, isUser = false) {
                const messageDiv = document.createElement('div');
                messageDiv.className = isUser ? 'flex justify-end' : 'flex gap-3';
                if (isUser) {
                    messageDiv.innerHTML = `
<div class="bg-primary text-white rounded-2xl rounded-tr-md p-4 max-w-xs">
<p>${message}</p>
</div>
`;
                } else {
                    messageDiv.innerHTML = `
<div class="w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0">
<i class="ri-robot-line text-primary text-sm"></i>
</div>
<div class="bg-gray-100 rounded-2xl rounded-tl-md p-4 max-w-xs">
<p class="text-gray-800">${message}</p>
</div>
`;
                }
                chatContainer.appendChild(messageDiv);
                chatContainer.scrollTop = chatContainer.scrollHeight;
            }
            function sendMessage() {
                const message = chatInput.value.trim();
                if (message) {
                    addMessage(message, true);
                    chatInput.value = '';
                    setTimeout(() => {
                        const responses = [
                            "That's a great question! Based on your current progress, I'd recommend focusing on consistency rather than intensity.",
                            "I can see you're making excellent progress! Let me analyze your patterns and provide personalized suggestions.",
                            "Your dedication is inspiring! Here are some insights based on your recent activity patterns.",
                            "Great to hear from you! I've been tracking your habits and have some exciting observations to share."
                        ];
                        const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                        addMessage(randomResponse);
                    }, 1000);
                }
            }
            sendButton.addEventListener('click', sendMessage);
            chatInput.addEventListener('keypress', function (e) {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });
        });
    </script>
    <script id="quick-actions">
        document.addEventListener('DOMContentLoaded', function () {
            const quickActionButtons = document.querySelectorAll('button[class*="bg-gray-100"]');
            const chatContainer = document.querySelector('.space-y-4.mb-4');
            quickActionButtons.forEach(button => {
                button.addEventListener('click', function () {
                    const action = this.textContent.trim();
                    const messageDiv = document.createElement('div');
                    messageDiv.className = 'flex justify-end';
                    messageDiv.innerHTML = `
<div class="bg-primary text-white rounded-2xl rounded-tr-md p-4 max-w-xs">
<p>${action}</p>
</div>
`;
                    chatContainer.appendChild(messageDiv);
                    chatContainer.scrollTop = chatContainer.scrollHeight;
                    setTimeout(() => {
                        const responses = {
                            'Analyze my habits': "Based on your data, you're excelling at morning routines but could improve evening habits. Your consistency rate is 85% - fantastic work!",
                            'Get motivation': "You're doing amazing, Sarah! Remember, every small step counts. Your 12-day streak shows incredible dedication. Keep pushing forward! 💪",
                            'Set new goals': "I'd love to help you set new goals! Based on your current habits, I suggest adding a gratitude journal or increasing your reading time. What interests you most?"
                        };
                        const response = responses[action] || "I'm here to help! Let me know what specific guidance you need.";
                        const responseDiv = document.createElement('div');
                        responseDiv.className = 'flex gap-3';
                        responseDiv.innerHTML = `
<div class="w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0">
<i class="ri-robot-line text-primary text-sm"></i>
</div>
<div class="bg-gray-100 rounded-2xl rounded-tl-md p-4 max-w-xs">
<p class="text-gray-800">${response}</p>
</div>
`;
                        chatContainer.appendChild(responseDiv);
                        chatContainer.scrollTop = chatContainer.scrollHeight;
                    }, 1500);
                });
            });
        });
    </script>
    <script id="recommendations">
        document.addEventListener('DOMContentLoaded', function () {
            const addButtons = document.querySelectorAll('button[class*="text-primary"]');
            addButtons.forEach(button => {
                button.addEventListener('click', function () {
                    const originalText = this.textContent;
                    this.textContent = 'Added!';
                    this.classList.remove('text-primary', 'bg-primary/10', 'hover:bg-primary/20');
                    this.classList.add('text-green-600', 'bg-green-100');
                    setTimeout(() => {
                        this.textContent = originalText;
                        this.classList.remove('text-green-600', 'bg-green-100');
                        this.classList.add('text-primary', 'bg-primary/10', 'hover:bg-primary/20');
                    }, 2000);
                });
            });
        });
    </script>
    <script id="user-dropdown-functionality">
        document.addEventListener('DOMContentLoaded', function () {
            const userMenuButton = document.getElementById('userMenuButton');
            const userDropdown = document.getElementById('userDropdown');

            if (userMenuButton && userDropdown) {
                userMenuButton.addEventListener('click', function (e) {
                    e.stopPropagation();
                    userDropdown.classList.toggle('show');
                });

                // Close dropdown when clicking outside
                document.addEventListener('click', function (e) {
                    if (!userMenuButton.contains(e.target) && !userDropdown.contains(e.target)) {
                        userDropdown.classList.remove('show');
                    }
                });

                // Close dropdown when pressing Escape
                document.addEventListener('keydown', function (e) {
                    if (e.key === 'Escape') {
                        userDropdown.classList.remove('show');
                    }
                });
            }
        });
    </script>
</body>

</html>